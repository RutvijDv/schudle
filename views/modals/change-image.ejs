<style>
#blah {
    border-radius: 100rem;
}
/*.form{
position: relative;
width: 100%;
height: 200%;
border: 3px dashed grey;
display: inline-block;
}
.form input{
position: relative;
margin: 0;
padding:40px 0;
width: 100%;
height: 100%;
outline: none;
opacity: 0;
}
.form div{
width: 100%;
height: 100%;
top: 10%;
text-align: center;
line-height: 100px;
position: absolute;
z-index: 0;
}*/

#fileName::before {
    content: 'File Name:';
}
#fileName {
    position: relative;
    top: 10px;
}


.fileBrowse
{
    position: absolute;
    top: 33px;
    width: 321px;
    left: 50px;
}

.profile-file {
    position: relative;
    display: inline-block;
    cursor: pointer;
    height: 2.5rem;
    border: 3px dashed grey;
    width: 100%;
    height: 110px;
}
.profile-file input {
    min-width: 14rem;
    margin: 0;
    filter: alpha(opacity=0);
    opacity: 0;
}
.profileFile-custom {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    z-index: 5;
    height: 2.5rem;
    padding: .5rem 1rem;
    line-height: 1.5;
    color: #555;
    
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
.profileFile-custom:before {
    position: absolute;
    top: 25px;
    right: 59px;
    z-index: 6;
    display: block;
    content: "Browse";
    background: #61128c;
    color: #ffffff;
    -webkit-box-shadow: -2px 10px 20px -1px rgb(97 18 118 / 40%);
    -moz-box-shadow: -2px 10px 20px -1px rgba(97,18,118, 0.4);
    -o-box-shadow: -2px 10px 20px -1px rgba(97,18,118, 0.4);
    box-shadow: -2px 10px 20px -1px rgb(97 18 118 / 40%);

    font-weight: 500;
    text-align: center;
    vertical-align: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border: 1px solid transparent;
    font-size: 1rem;
    line-height: 2.9;
    padding-right: 20px;
    padding-left: 20px;
    height: 50px;
    border-radius: 0.35rem;
    transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.profileFile-custom:after {
    content: "Upload your files here or";
    background-image: url(/images/upload.png);
    background-repeat: no-repeat;
    background-size: 22px 21px;
    background-position:10px 200px;
    background-position: 75px 0px;
    display: block;
    font-size: 16px;
    color: #848484;
    font-weight: 500;
    position: relative;
    top: 30px;
    right: 33px;
}
</style>

<!-- Modal -->
<div class="modal fade" id="changeImageModal" tabindex="-1" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content">
    <!-- <div class="modal-body"> -->
    <form action="/<%=school%>/profile/change_photo" method="POST" enctype="multipart/form-data" class="fh5co-form animate-box"
      data-animate-effect="fadeIn" onsubmit='forgot(event)'>
      <button type="button" class="btn-close float-right" data-bs-dismiss="modal"
        aria-label="Close"></button>
      <h2 class="modal-title" id="exampleModalLabel">Change Profile Image</h2>

      <div class="form-group">
        <label for="Image" class="sr-only">Profile Image</label>  
        <img id="blah" src="data:image/<%=info.profileimg.contentType%>;base64,
        <%=info.profileimg.data.toString('base64')%>" width="160" height="160" alt="your image" >    
      </div>

      <!--<div class="form-group" style="position: relative;">
            <div class="form">
            <input name="file" id="entry_value" ref="fileInput" type="file"  onchange="getFileName()">

            </div> 
            <div class="fileBrowse">
                <img src="/images/upload.png" alt="upload" width="7%" class="mx-2">
                Upload your files here or 
                <button for="fileElem" class="btn btn-primary">Browse</button>
                </div>
            <h6 id="fileName" class="text-primary " style="text-align:left;">
            </h6>   
        <!-- <input type="file" id="imgInp" class="form-control" name="file"> 
      </div>-->
      
        <div class="form-group">
          <label class="profile-file">
            <input type="file" name="file" ref="upload" id="entry_value" aria-label="File Input" onchange="getFileName()">
            <span class="profileFile-custom"></span>
          </label>
          <h6 id="fileName" class="text-primary " style="text-align:left;">
          </h6>
        </div>
     

      <div class="form-group">
        <button type="submit" class="btn btn-primary">Upload</button>
      </div>
    </form>
  </div>
</div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#blah')
                    .attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#imgInp").change(function() {
        readURL(this);
    });

    function getFileName()
    {
        var x = document.getElementById('entry_value');
        document.getElementById('fileName').innerHTML = x.value.split('\\').pop()
    }
</script>
